(this["webpackJsonpproductivity-app"]=this["webpackJsonpproductivity-app"]||[]).push([[0],{101:function(e,a){e.exports="data:image/png;base64,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"},107:function(e,a,t){e.exports=t(165)},165:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(96),s=t.n(r),o=t(14),c=t(8),i=t(176),m=t(70),u=t(178),d=t(52),p=t.n(d);t(95);var E=function(e){let{isLoggedIn:a,onLogout:t}=e;const[r,s]=Object(n.useState)(!1),d=Object(c.o)();Object(n.useEffect)(()=>{s(!1)},[d.pathname]);const E=()=>{s(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(i.a,{expand:"md",fixed:"top",expanded:r,onToggle:s,className:p.a.NavBar},l.a.createElement(m.a,null,l.a.createElement(i.a.Brand,{className:"me-auto"},l.a.createElement("img",{src:"/logo192.png",alt:"logo",height:"45",className:"me-2"}),l.a.createElement("span",{className:"fw-bold"},"Productivity")),l.a.createElement(i.a.Toggle,{"aria-controls":"navbarScroll"}),l.a.createElement(i.a.Collapse,{id:"navbarScroll"},l.a.createElement(u.a,{className:"ms-auto my-2 my-lg-0",navbarScroll:!0},!a&&l.a.createElement(o.c,{to:"/",className:p.a.NavLink+" fw-bold",onClick:E},l.a.createElement("i",{className:"fa-solid fa-house"})," Home Page"),a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(o.c,{to:"/CreateTask",className:p.a.NavLink+" fw-bold",onClick:E},l.a.createElement("i",{className:"fa-solid fa-square-plus"})," Create Task"),l.a.createElement(o.c,{to:"/tasklist",className:p.a.NavLink+" fw-bold",onClick:E},l.a.createElement("i",{className:"fa-solid fa-list-check"})," Task List"),l.a.createElement(u.a.Link,{onClick:t,className:p.a.NavLink+" fw-bold"},l.a.createElement("i",{className:"fa-solid fa-sign-out-alt"})," Logout"))))))))},g=t(98),v=t.n(g),y=t(174);const h=y.a.create({baseURL:"https://project-5-productivity-backend-1b67e4c3722a.herokuapp.com/",timeout:1e4,headers:{"Content-Type":"application/json"}});h.interceptors.request.use(e=>{const a=localStorage.getItem("access_token");return a&&(e.headers.Authorization="Bearer "+a),e},e=>Promise.reject(e)),h.interceptors.response.use(e=>e,async e=>{var a;const t=e.config;if(401===(null===(a=e.response)||void 0===a?void 0:a.status)&&!t._retry){t._retry=!0;try{const e=localStorage.getItem("refresh_token");if(e){const a=(await y.a.post(h.defaults.baseURL+"/api/token/refresh/",{refresh:e})).data.access;return localStorage.setItem("access_token",a),t.headers.Authorization="Bearer "+a,h(t)}localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"}catch(n){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"}}return Promise.reject(e)});var b=h,f=t(99),k=t(74),C=t(177),S=t(180),N=t(175),w=t(171),j=t(19),x=t.n(j),A=t(23);var D=e=>{let{onLogin:a}=e;const t=Object(c.q)(),[r,s]=Object(n.useState)(""),[i,u]=Object(n.useState)(""),[d,p]=Object(n.useState)("");return l.a.createElement(m.a,{className:Object(A.a)(x.a.container,"d-flex","flex-column","justify-content-center","align-items-center")},l.a.createElement(f.a,{className:"w-100"},l.a.createElement(k.a,{xs:12,sm:10,md:8,lg:5,className:"mx-auto "},l.a.createElement(C.a,{className:"shadow"},l.a.createElement(C.a.Body,null,l.a.createElement(C.a.Title,{className:"text-center"},"Login"),d&&l.a.createElement(S.a,{variant:"danger"},d),l.a.createElement(N.a,{onSubmit:async e=>{e.preventDefault();try{const e=await b.post("/api/login/",{email:r,password:i},{timeout:5e3});localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),a(),t("/")}catch(s){var n,l;p((null===(n=s.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||"Invalid email or password.")}}},l.a.createElement(N.a.Group,{controlId:"formEmail"},l.a.createElement(N.a.Label,null,"Email"),l.a.createElement(N.a.Control,{type:"email",value:r,onChange:e=>s(e.target.value),required:!0})),l.a.createElement(N.a.Group,{controlId:"formPassword"},l.a.createElement(N.a.Label,null,"Password"),l.a.createElement(N.a.Control,{type:"password",value:i,onChange:e=>u(e.target.value),required:!0})),l.a.createElement(w.a,{variant:"primary",type:"submit",className:"w-100 mt-3"},"Login")),l.a.createElement("div",{className:"text-center mt-3"},"Don't have an account? ",l.a.createElement(o.b,{to:"/register"},"Register")))))))};var L=()=>{const e=Object(c.q)(),[a,t]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),[i,u]=Object(n.useState)(""),[d,p]=Object(n.useState)(""),[E,g]=Object(n.useState)("");return l.a.createElement(m.a,{className:Object(A.a)(x.a.container,"d-flex","flex-column","justify-content-center","align-items-center")},l.a.createElement(f.a,{className:"w-100"},l.a.createElement(k.a,{xs:12,sm:10,md:8,lg:5,className:"mx-auto "},l.a.createElement(C.a,{className:"shadow"},l.a.createElement(C.a.Body,null,l.a.createElement(C.a.Title,{className:"text-center"},"Register"),E&&l.a.createElement(S.a,{variant:"danger"},E),l.a.createElement(N.a,{onSubmit:async t=>{if(t.preventDefault(),i.length<8)g("Password must be at least 8 characters long.");else if(i===d)try{await b.post("/api/register/",{name:a,email:r,password:i,confirm_password:d},{timeout:5e3});e("/login")}catch(s){var n,l;g((null===(n=s.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||"An error occurred during registration.")}else g("Passwords do not match.")}},l.a.createElement(N.a.Group,{controlId:"formName"},l.a.createElement(N.a.Label,null,"Name"),l.a.createElement(N.a.Control,{type:"text",value:a,onChange:e=>t(e.target.value),required:!0})),l.a.createElement(N.a.Group,{controlId:"formEmail"},l.a.createElement(N.a.Label,null,"Email"),l.a.createElement(N.a.Control,{type:"email",value:r,onChange:e=>s(e.target.value),required:!0})),l.a.createElement(N.a.Group,{controlId:"formPassword"},l.a.createElement(N.a.Label,null,"Password"),l.a.createElement(N.a.Control,{type:"password",value:i,onChange:e=>u(e.target.value),required:!0})),l.a.createElement(N.a.Group,{controlId:"formConfirmPassword"},l.a.createElement(N.a.Label,null,"Confirm Password"),l.a.createElement(N.a.Control,{type:"password",value:d,onChange:e=>p(e.target.value),required:!0})),l.a.createElement(w.a,{variant:"primary",type:"submit",className:"w-100 mt-3"},"Register")),l.a.createElement("div",{className:"text-center mt-3"},"Already have an account? ",l.a.createElement(o.b,{to:"/login"},"Login")))))))},O=t(75),P=t.n(O),I=(t(85),t(172));var B=e=>{let{onSubmit:a,onCancel:t}=e;const[r,s]=Object(n.useState)(""),[o,c]=Object(n.useState)(""),[i,u]=Object(n.useState)(new Date),[d,p]=Object(n.useState)("medium"),[E,g]=Object(n.useState)("development"),[v,y]=Object(n.useState)("pending"),[h,f]=Object(n.useState)([]),[k,j]=Object(n.useState)([]),[D,L]=Object(n.useState)([]),[O,B]=Object(n.useState)(!0),[F,T]=Object(n.useState)(""),[z,U]=Object(n.useState)(""),[G,M]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("access_token"),a=await b.get("/api/users/",{headers:{Authorization:"Bearer "+e}});L(a.data)}catch(e){T("Failed to load users.")}finally{B(!1)}})()},[]);const q=()=>{s(""),c(""),u(new Date),p("medium"),g("development"),y("pending"),f([]),j([]),U(""),T("")};return O?l.a.createElement(m.a,{className:"text-center mt-5"},l.a.createElement(I.a,{animation:"border"}),l.a.createElement("p",null,"Loading users...")):l.a.createElement(m.a,{className:Object(A.a)(x.a.container,"d-flex","flex-column","justify-content-center","align-items-center","mt-5")},l.a.createElement(C.a,{className:"p-4 shadow",style:{width:"100%",maxWidth:"600px"}},l.a.createElement("h3",{className:"text-center mb-4"},"Create Task"),z&&l.a.createElement(S.a,{variant:"success",className:"mb-3"},z),F&&l.a.createElement(S.a,{variant:"danger",className:"mb-3"},F),l.a.createElement(N.a,{onSubmit:async e=>{e.preventDefault(),T(""),U(""),M(!0);const t={title:r,description:o,dueDate:i,priority:d,category:E,status:v,assignedUsers:h,files:k};try{await a(t),U("Task created successfully!"),setTimeout(()=>{q(),U("")},3e3)}catch(s){var n,l;T((null===s||void 0===s||null===(n=s.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.detail)||(null===s||void 0===s?void 0:s.message)||"Something went wrong while creating the task.")}finally{M(!1)}}},l.a.createElement(N.a.Group,{controlId:"taskTitle"},l.a.createElement(N.a.Control,{type:"text",placeholder:"Task Title",value:r,onChange:e=>s(e.target.value),required:!0})),l.a.createElement(N.a.Group,{controlId:"taskDescription",className:"mt-3"},l.a.createElement(N.a.Control,{as:"textarea",placeholder:"Task Description",value:o,onChange:e=>c(e.target.value),rows:3,required:!0})),l.a.createElement(N.a.Group,{controlId:"dueDate",className:"mt-3"},l.a.createElement(N.a.Label,null,"Due Date"),l.a.createElement(P.a,{selected:i,onChange:e=>u(e),className:"form-control",required:!0})),l.a.createElement(N.a.Group,{controlId:"taskPriority",className:"mt-3"},l.a.createElement(N.a.Label,null,"Priority"),l.a.createElement(N.a.Select,{value:d,onChange:e=>p(e.target.value)},l.a.createElement("option",{value:"low"},"Low"),l.a.createElement("option",{value:"medium"},"Medium"),l.a.createElement("option",{value:"high"},"High"))),l.a.createElement(N.a.Group,{controlId:"taskCategory",className:"mt-3"},l.a.createElement(N.a.Label,null,"Category"),l.a.createElement(N.a.Select,{value:E,onChange:e=>g(e.target.value)},l.a.createElement("option",{value:"development"},"Development"),l.a.createElement("option",{value:"design"},"Design"),l.a.createElement("option",{value:"testing"},"Testing"),l.a.createElement("option",{value:"documentation"},"Documentation"),l.a.createElement("option",{value:"other"},"Other"))),l.a.createElement(N.a.Group,{controlId:"taskStatus",className:"mt-3"},l.a.createElement(N.a.Label,null,"Status"),l.a.createElement(N.a.Select,{value:v,onChange:e=>y(e.target.value)},l.a.createElement("option",{value:"pending"},"To Do"),l.a.createElement("option",{value:"in_progress"},"In Progress"),l.a.createElement("option",{value:"done"},"Done"))),l.a.createElement(N.a.Group,{controlId:"assignedUsers",className:"mt-3"},l.a.createElement(N.a.Label,null,"Assigned Users"),l.a.createElement(N.a.Select,{multiple:!0,value:h,onChange:e=>{const a=Array.from(e.target.selectedOptions).map(e=>e.value);f(a)}},D.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.username))),l.a.createElement(N.a.Text,{className:"text-muted"},"Select users to assign to this task.")),l.a.createElement(N.a.Group,{controlId:"taskFiles",className:"mt-3"},l.a.createElement(N.a.Label,null,"Upload Files"),l.a.createElement(N.a.Control,{type:"file",multiple:!0,onChange:e=>{j(Array.from(e.target.files))}}),k.length>0&&l.a.createElement("div",{className:"mt-2"},l.a.createElement("p",null,"Selected files:"),l.a.createElement("ul",null,k.map((e,a)=>l.a.createElement("li",{key:a},e.name," (",Math.round(e.size/1024)," KB)"))))),l.a.createElement("div",{className:"d-flex justify-content-between mt-4"},l.a.createElement(w.a,{variant:"primary",type:"submit",disabled:G},G?"Submitting...":"Create Task"),l.a.createElement(w.a,{variant:"outline-secondary",type:"button",onClick:()=>{q(),t&&t()}},"Cancel")))))},F=t(166);var T=()=>{const{id:e}=Object(c.s)(),a=Object(c.q)(),[t,r]=Object(n.useState)(""),[s,o]=Object(n.useState)(""),[i,u]=Object(n.useState)(new Date),[d,p]=Object(n.useState)("low"),E=["development","design","testing","documentation","other"],[g,v]=Object(n.useState)(E[0]),[y,h]=Object(n.useState)("pending"),[f,k]=Object(n.useState)([]),[j,D]=Object(n.useState)([]),[L,O]=Object(n.useState)([]),[B,T]=Object(n.useState)(!0),[z,U]=Object(n.useState)(!1),[G,M]=Object(n.useState)(""),[q,Z]=Object(n.useState)("");Object(n.useEffect)(()=>{(async()=>{try{const a=localStorage.getItem("access_token"),[t,n]=await Promise.all([b.get(`/api/tasks/${e}/`,{headers:{Authorization:"Bearer "+a}}),b.get("/api/users/",{headers:{Authorization:"Bearer "+a}})]),l=t.data;r(l.title),o(l.description),u(l.due_date?new Date(l.due_date):new Date),p(l.priority),v(l.category||E[0]),h(l.status),k(l.assigned_users.map(e=>String(e))),O(n.data)}catch(a){M("Failed to load task or users.")}finally{T(!1)}})()},[e]);return B?l.a.createElement(m.a,{className:"text-center mt-5"},l.a.createElement(I.a,{animation:"border"}),l.a.createElement("p",null,"Loading task...")):l.a.createElement(m.a,{className:Object(A.a)(x.a.container,"d-flex","flex-column","justify-content-center","align-items-center","mt-5")},l.a.createElement(C.a,{className:"p-4 shadow",style:{width:"100%",maxWidth:"600px"}},l.a.createElement("h3",{className:"text-center mb-4"},"Edit Task"),G&&l.a.createElement(S.a,{variant:"danger"},G),l.a.createElement(N.a,{onSubmit:async n=>{n.preventDefault(),U(!0),M(""),Z("");const l=new FormData;l.append("title",t),l.append("description",s),i instanceof Date&&!isNaN(i)&&l.append("due_date",Object(F.default)(i,"yyyy-MM-dd")),l.append("priority",d),l.append("category",g),l.append("status",y),f.forEach(e=>{l.append("assigned_users",Number(e))}),j.forEach(e=>l.append("upload_files",e));try{const t=localStorage.getItem("access_token");await b.put(`/api/tasks/${e}/`,l,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t}}),Z("Task updated successfully!"),a("/tasklist",{state:{message:"Edit successful",type:"success"}})}catch(r){r.response&&r.response.data?M("Failed to update the task. Please check the console for details."):M("Failed to update the task. An unexpected error occurred.")}finally{U(!1)}}},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,{htmlFor:"title"},"Task Title"),l.a.createElement(N.a.Control,{type:"text",id:"title",name:"title",placeholder:"Task Title",value:t,onChange:e=>r(e.target.value),required:!0})),l.a.createElement(N.a.Group,{className:"mt-3"},l.a.createElement(N.a.Label,{htmlFor:"description"},"Task Description"),l.a.createElement(N.a.Control,{as:"textarea",id:"description",name:"description",placeholder:"Task Description",value:s,onChange:e=>o(e.target.value),rows:3,required:!0})),l.a.createElement(N.a.Group,{className:"mt-3"},l.a.createElement(N.a.Label,{htmlFor:"dueDate"},"Due Date"),l.a.createElement(P.a,{id:"dueDate",name:"dueDate",selected:i,onChange:e=>u(e),className:"form-control",required:!0,dateFormat:"yyyy-MM-dd"})),l.a.createElement(N.a.Group,{className:"mt-3"},l.a.createElement(N.a.Label,{htmlFor:"priority"},"Priority"),l.a.createElement(N.a.Select,{id:"priority",name:"priority",value:d,onChange:e=>p(e.target.value)},l.a.createElement("option",{value:"low"},"Low"),l.a.createElement("option",{value:"medium"},"Medium"),l.a.createElement("option",{value:"high"},"High"))),l.a.createElement(N.a.Group,{className:"mt-3"},l.a.createElement(N.a.Label,{htmlFor:"category"},"Category"),l.a.createElement(N.a.Select,{id:"category",name:"category",value:g,onChange:e=>v(e.target.value)},E.map(e=>l.a.createElement("option",{key:e,value:e},e.charAt(0).toUpperCase()+e.slice(1)," ")))),l.a.createElement(N.a.Group,{className:"mt-3"},l.a.createElement(N.a.Label,{htmlFor:"status"},"Status"),l.a.createElement(N.a.Select,{id:"status",name:"status",value:y,onChange:e=>h(e.target.value)},l.a.createElement("option",{value:"pending"},"Pending"),l.a.createElement("option",{value:"in_progress"},"In Progress"),l.a.createElement("option",{value:"done"},"Done"))),l.a.createElement(N.a.Group,{className:"mt-3"},l.a.createElement(N.a.Label,{htmlFor:"assignedUsers"},"Assigned Users"),l.a.createElement(N.a.Select,{multiple:!0,id:"assignedUsers",name:"assigned_users",value:f,onChange:e=>{const a=Array.from(e.target.selectedOptions).map(e=>e.value);k(a)}},L.map(e=>l.a.createElement("option",{key:e.id,value:String(e.id)},e.name||e.username)))),l.a.createElement(N.a.Group,{className:"mt-3"},l.a.createElement(N.a.Label,null,"Upload Files"),l.a.createElement(N.a.Control,{type:"file",multiple:!0,onChange:e=>{D(Array.from(e.target.files))}})),l.a.createElement("div",{className:"d-flex justify-content-between mt-4"},l.a.createElement(w.a,{variant:"primary",type:"submit",disabled:z},z?"Saving...":"Edit Task"),l.a.createElement(w.a,{variant:"outline-secondary",type:"button",onClick:()=>{a("/tasklist",{state:{message:"Edit cancelled",type:"info"}})}},"Cancel")))))},z=t(173),U=t(179);var G=()=>{var e;const[a,t]=Object(n.useState)([]),[r,s]=Object(n.useState)([]),[i,u]=Object(n.useState)(null),[d,p]=Object(n.useState)(""),[E,g]=Object(n.useState)({category:"",status:""}),[v,y]=Object(n.useState)("dueDate"),[h,j]=Object(n.useState)(!0),[D,L]=Object(n.useState)(""),[O,P]=Object(n.useState)(null),[B,F]=Object(n.useState)(null),[T,G]=Object(n.useState)(!1),[M,q]=Object(n.useState)(null),Z=Object(c.q)();Object(n.useEffect)(()=>{(async()=>{j(!0),L("");try{const e=await b.get("/api/tasks/");t(e.data);const a=await b.get("/api/users/");s(a.data)}catch(n){var e,a;L((null===(e=n.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.detail)||n.message||"Unable to load data.")}finally{j(!1)}})()},[]);const R=e=>{const a=r.find(a=>a.id===e);return a?a.username:"Unknown User"},W=Object(n.useMemo)(()=>{let e=a;if(d){const a=d.toLowerCase();e=e.filter(e=>{var t,n,l,r;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(a))||(null===(l=e.category)||void 0===l?void 0:l.toLowerCase().includes(a))||(null===(r=e.assigned_users)||void 0===r?void 0:r.some(e=>R(e).toLowerCase().includes(a)))})}E.category&&(e=e.filter(e=>{var a;return(null===(a=e.category)||void 0===a?void 0:a.toLowerCase())===E.category.toLowerCase()})),E.status&&(e=e.filter(e=>{var a;return(null===(a=e.status)||void 0===a?void 0:a.toLowerCase())===E.status.toLowerCase()}));return[...e].sort((e,a)=>{if("dueDate"===v){const t=e.due_date?new Date(e.due_date):null,n=a.due_date?new Date(a.due_date):null;return t&&n?t.getTime()-n.getTime():t?-1:n?1:0}if("priority"===v){var t,n;const l={high:3,medium:2,low:1},r=l[null===(t=e.priority)||void 0===t?void 0:t.toLowerCase()]||0;return(l[null===(n=a.priority)||void 0===n?void 0:n.toLowerCase()]||0)-r}return 0})},[a,r,d,E,v]),Y=()=>u(null),Q=(e,a)=>g(t=>({...t,[e]:a})),J=async e=>{P(e.id);try{await b.patch(`/api/tasks/${e.id}/`,{status:"done"});const n=a.map(a=>a.id===e.id?{...a,status:"done"}:a);t(n),i&&i.id===e.id&&u(e=>({...e,status:"done"}))}catch(n){L("Failed to mark task complete. Please try again.")}finally{P(null)}},V=(e,a)=>{a.stopPropagation(),q(e),G(!0)},H=()=>{G(!1),q(null)};return l.a.createElement(m.a,{className:Object(A.a)(x.a.container,"d-flex","flex-column","justify-content-center","align-items-center","mt-5")},l.a.createElement(C.a,{className:"p-4 shadow w-100",style:{maxWidth:"960px"}},l.a.createElement("h3",{className:"text-center mb-4"},"Your Task List"),l.a.createElement(N.a,{className:"mb-4"},l.a.createElement(f.a,{className:"align-items-end g-3 justify-content-center"},l.a.createElement(k.a,{md:4},l.a.createElement(N.a.Group,{controlId:"searchTasks"},l.a.createElement(N.a.Label,null,"Search"),l.a.createElement(N.a.Control,{type:"text",placeholder:"Search tasks...",value:d,onChange:e=>p(e.target.value)}))),l.a.createElement(k.a,{md:4},l.a.createElement(N.a.Group,{controlId:"categoryFilter"},l.a.createElement(N.a.Label,null,"Category"),l.a.createElement(N.a.Select,{value:E.category,onChange:e=>Q("category",e.target.value)},l.a.createElement("option",{value:""},"All Categories"),["development","design","testing","documentation","other"].map(e=>l.a.createElement("option",{key:e,value:e},e.charAt(0).toUpperCase()+e.slice(1)))))),l.a.createElement(k.a,{md:4},l.a.createElement(N.a.Group,{controlId:"statusFilter"},l.a.createElement(N.a.Label,null,"Status"),l.a.createElement(N.a.Select,{value:E.status,onChange:e=>Q("status",e.target.value)},l.a.createElement("option",{value:""},"All Statuses"),["pending","in_progress","done"].map(e=>l.a.createElement("option",{key:e,value:e},e.replace("_"," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")))))),l.a.createElement(k.a,{md:4},l.a.createElement(N.a.Group,{controlId:"sortBy"},l.a.createElement(N.a.Label,null,"Sort By"),l.a.createElement(N.a.Select,{value:v,onChange:e=>{return a=e.target.value,y(a);var a}},l.a.createElement("option",{value:"dueDate"},"Due Date"),l.a.createElement("option",{value:"priority"},"Priority")))))),h?l.a.createElement("div",{className:"text-center"},l.a.createElement(I.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"visually-hidden"},"Loading Tasks..."))):D?l.a.createElement(S.a,{variant:"danger"},D):l.a.createElement(z.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"text-center"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Due Date"),l.a.createElement("th",null,"Priority"),l.a.createElement("th",null,"Category")," ",l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Assigned Users"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,W.length>0?W.map(e=>{var a;return l.a.createElement("tr",{key:e.id,onClick:()=>(e=>u(e))(e),style:{cursor:"pointer"}},l.a.createElement("td",null,e.title),l.a.createElement("td",null,e.due_date?new Date(e.due_date).toLocaleDateString():"No Due Date"),l.a.createElement("td",null,e.priority),l.a.createElement("td",null,e.category),l.a.createElement("td",null,e.status),l.a.createElement("td",null,e.assigned_users&&Array.isArray(e.assigned_users)?e.assigned_users.map(e=>R(e)).join(", "):"Unassigned"),l.a.createElement("td",null,l.a.createElement(o.b,{to:"/edittask/"+e.id,onClick:e=>e.stopPropagation()},l.a.createElement(w.a,{variant:"outline-primary",size:"sm",className:"me-2"},"Edit")),l.a.createElement(w.a,{variant:"outline-success",size:"sm",className:"me-2",onClick:a=>{a.stopPropagation(),J(e)},disabled:"done"===(null===(a=e.status)||void 0===a?void 0:a.toLowerCase())||O===e.id},O===e.id?l.a.createElement(I.a,{size:"sm",animation:"border"}):"Complete"),l.a.createElement(w.a,{variant:"outline-danger",size:"sm",onClick:a=>V(e,a),disabled:B===e.id},B===e.id?l.a.createElement(I.a,{size:"sm",animation:"border"}):"Delete")))}):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"7",className:"text-center"},a.length>0?"No tasks match your criteria.":"No tasks available."))))),i&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1040},onClick:Y}),l.a.createElement(C.a,{className:"position-fixed top-50 start-50 translate-middle p-4 shadow",style:{zIndex:1050,width:"90%",maxWidth:"500px"}},l.a.createElement("h4",null,i.title),l.a.createElement("p",null,l.a.createElement("strong",null,"Description:")," ",i.description),l.a.createElement("p",null,l.a.createElement("strong",null,"Due:")," ",i.due_date?new Date(i.due_date).toLocaleDateString():"No Due Date"),l.a.createElement("p",null,l.a.createElement("strong",null,"Category:")," ",i.category," "),l.a.createElement("p",null,l.a.createElement("strong",null,"Priority:")," ",i.priority),l.a.createElement("p",null,l.a.createElement("strong",null,"Status:")," ",i.status),l.a.createElement("p",null,l.a.createElement("strong",null,"Assigned:")," ",i.assigned_users&&Array.isArray(i.assigned_users)?i.assigned_users.map(e=>R(e)).join(", "):"Unassigned"),i.upload_files&&i.upload_files.length>0&&l.a.createElement("div",{className:"mt-3"},l.a.createElement("strong",null,"Attached Files:"),l.a.createElement("ul",null,i.upload_files.map(e=>l.a.createElement("li",{key:e.id},l.a.createElement("a",{href:e.file,target:"_blank",rel:"noopener noreferrer"},e.file.split("/").pop()," "))))),l.a.createElement("div",{className:"d-flex justify-content-between mt-3"},l.a.createElement(w.a,{variant:"success",onClick:()=>J(i),disabled:"done"===(null===(e=i.status)||void 0===e?void 0:e.toLowerCase())||O===(null===i||void 0===i?void 0:i.id)},O===(null===i||void 0===i?void 0:i.id)?l.a.createElement(I.a,{size:"sm",animation:"border"}):"Complete"),l.a.createElement(w.a,{variant:"warning",onClick:e=>{return a=i.id,e.stopPropagation(),Y(),void Z("/edittask/"+a);var a}},"Edit"),l.a.createElement(w.a,{variant:"danger",onClick:e=>V(i,e),disabled:B===(null===i||void 0===i?void 0:i.id)},B===(null===i||void 0===i?void 0:i.id)?l.a.createElement(I.a,{size:"sm",animation:"border"}):"Delete"),l.a.createElement(w.a,{variant:"secondary",onClick:Y},"Close")))),l.a.createElement(U.a,{show:T,onHide:H},l.a.createElement(U.a.Header,{closeButton:!0},l.a.createElement(U.a.Title,null,"Confirm Deletion")),l.a.createElement(U.a.Body,null,'Are you sure you want to delete the task "',null===M||void 0===M?void 0:M.title,'"?'),l.a.createElement(U.a.Footer,null,l.a.createElement(w.a,{variant:"secondary",onClick:H},"Cancel"),l.a.createElement(w.a,{variant:"danger",onClick:async()=>{if(M){F(M.id),G(!1),L("");try{await b.delete(`/api/tasks/${M.id}/`),t(a.filter(e=>e.id!==M.id)),i&&i.id===M.id&&u(null)}catch(l){var e,n;L((null===(e=l.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||l.message||"Failed to delete task. Please try again.")}finally{F(null),q(null)}}},disabled:null!==B},B===(null===M||void 0===M?void 0:M.id)?l.a.createElement(I.a,{size:"sm",animation:"border"}):"Delete"))),D&&l.a.createElement("div",{className:"position-fixed bottom-0 end-0 p-3",style:{zIndex:1060}},l.a.createElement(S.a,{variant:"danger",onClose:()=>L(""),dismissible:!0},D)))};var M=()=>l.a.createElement(m.a,{className:Object(A.a)(x.a.container,"d-flex","flex-column","justify-content-center","align-items-center")},l.a.createElement(f.a,{className:"justify-content-center mb-5"},l.a.createElement(k.a,{md:10,lg:8},l.a.createElement("h1",{className:"display-4 fw-bold text-primary styles.responsiveTitle"},"Stay Productive, Stay Ahead"),l.a.createElement("p",{className:"lead mt-3 fs-4 styles.responsiveSubtitle"},"Organize your life and collaborate better with our calendar-driven productivity app. Plan your tasks, track habits, and achieve more together."),l.a.createElement("div",{className:"d-flex justify-content-center gap-3 mt-3"},l.a.createElement(o.b,{to:"/register"},l.a.createElement(w.a,{variant:"outline-primary",size:"lg"},"Get Started")),l.a.createElement(o.b,{to:"/login"},l.a.createElement(w.a,{variant:"outline-success",size:"lg"},"Login"))))));var q=()=>{const[e,a]=Object(n.useState)(null);return l.a.createElement(l.a.Fragment,null,e&&l.a.createElement("div",{style:{backgroundColor:"#f0f0f0",padding:"20px",margin:"20px",border:"1px solid #ccc"}},l.a.createElement("h3",{style:{margin:"0 0 10px 0"}},"Debug Data:"),l.a.createElement("pre",null,JSON.stringify(e,null,2))),l.a.createElement(B,{onSubmit:async e=>{try{var t,n;const l=new FormData;l.append("title",e.title),l.append("description",e.description),l.append("due_date",e.dueDate.toISOString().split("T")[0]),l.append("priority",e.priority),l.append("category",e.category),l.append("status",e.status.toLowerCase()),(null===(t=e.assignedUsers)||void 0===t?void 0:t.length)>0&&e.assignedUsers.forEach(e=>{l.append("assigned_users",e)}),(null===(n=e.files)||void 0===n?void 0:n.length)>0&&e.files.forEach(e=>l.append("upload_files",e));const r=localStorage.getItem("access_token"),s={};l.forEach((e,a)=>{s[a]?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(e)):s[a]=e}),a({taskData:e,formData:s});return(await y.a.post("http://localhost:8000/api/tasks/",l,{headers:{Authorization:"Bearer "+r}})).data}catch(l){throw l.response?alert("Task creation failed: "+JSON.stringify(l.response.data)):alert("Network error: "+l.message),l}}}))},Z=t(101),R=t.n(Z),W=t(102);var Y=()=>l.a.createElement(m.a,{fluid:!0,className:"d-flex justify-content-center align-items-center vh-100"},l.a.createElement(f.a,{className:"text-center"},l.a.createElement(k.a,null,l.a.createElement(W.a,{src:R.a,alt:"Illustration of no search results or missing page",className:x.a.customImage||"img-fluid",fluid:!0}),l.a.createElement("h2",{className:"mt-3"},"Sorry, the page you're looking for doesn't exist."))));var Q=function(){const[e,a]=Object(n.useState)(!1);return l.a.createElement("div",{className:"App"},l.a.createElement(E,{isLoggedIn:e,onLogout:()=>{a(!1)}}),l.a.createElement(m.a,{className:v.a.container},l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/",element:e?l.a.createElement(c.a,{to:"/createtask"}):l.a.createElement(M,null)}),l.a.createElement(c.b,{path:"/login",element:e?l.a.createElement(c.a,{to:"/createtask"}):l.a.createElement(D,{onLogin:()=>{a(!0)}})}),l.a.createElement(c.b,{path:"/register",element:l.a.createElement(L,null)}),l.a.createElement(c.b,{path:"/createtask",element:e?l.a.createElement(q,{users:[],onSubmit:e=>{},onCancel:()=>{}}):l.a.createElement(c.a,{to:"/login"})}),l.a.createElement(c.b,{path:"/edittask/:id",element:e?l.a.createElement(T,null):l.a.createElement(c.a,{to:"/login"})}),l.a.createElement(c.b,{path:"/tasklist",element:e?l.a.createElement(G,null):l.a.createElement(c.a,{to:"/login"})}),l.a.createElement(c.b,{path:"*",element:l.a.createElement(Y,null)}))))};s.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,{future:{v7_startTransition:!0}},l.a.createElement(Q,null))))},19:function(e,a,t){e.exports={container:"Common_container__1k6nZ",responsiveTitle:"Common_responsiveTitle__2IxBN",responsiveSubtitle:"Common_responsiveSubtitle__2vazn"}},52:function(e,a,t){e.exports={NavBar:"NavBar_NavBar__2iEPv",NavLink:"NavBar_NavLink__2Jd5H"}},98:function(e,a,t){e.exports={App:"App_App__1au9W",Main:"App_Main__13Z4N"}}},[[107,1,2]]]);
//# sourceMappingURL=main.f9802a4e.chunk.js.map